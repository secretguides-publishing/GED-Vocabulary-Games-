<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéØ GED Vocabulary Games | Crosswords, Word Search & Matching | SecretGuides</title>
    <meta name="author" content="SecretGuides Publishing Team">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%); min-height: 100vh; color: #fff; }
        .container { max-width: 1000px; margin: 0 auto; padding: 20px; }
        
        header { text-align: center; padding: 30px 20px; }
        header h1 { font-size: 2.5rem; margin-bottom: 10px; background: linear-gradient(135deg, #00d9ff, #00ff88); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        header p { color: #94a3b8; font-size: 1.1rem; }
        
        .screen { display: none; }
        .screen.active { display: block; }
        
        /* Menu Styles */
        .game-menu { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin: 30px 0; }
        .game-card { background: rgba(255,255,255,0.05); border-radius: 20px; padding: 30px; cursor: pointer; transition: all 0.3s; border: 2px solid transparent; text-align: center; }
        .game-card:hover { transform: translateY(-8px); border-color: rgba(255,255,255,0.2); }
        .game-card.crossword { border-top: 4px solid #f59e0b; }
        .game-card.crossword:hover { border-color: #f59e0b; box-shadow: 0 15px 40px rgba(245,158,11,0.2); }
        .game-card.wordsearch { border-top: 4px solid #10b981; }
        .game-card.wordsearch:hover { border-color: #10b981; box-shadow: 0 15px 40px rgba(16,185,129,0.2); }
        .game-card.matching { border-top: 4px solid #3b82f6; }
        .game-card.matching:hover { border-color: #3b82f6; box-shadow: 0 15px 40px rgba(59,130,246,0.2); }
        .game-icon { font-size: 4rem; margin-bottom: 15px; }
        .game-card h3 { font-size: 1.5rem; margin-bottom: 10px; }
        .game-card p { color: #94a3b8; font-size: 0.95rem; margin-bottom: 15px; }
        .play-btn { display: inline-block; padding: 12px 30px; border-radius: 25px; font-weight: 700; font-size: 0.95rem; }
        .game-card.crossword .play-btn { background: linear-gradient(135deg, #f59e0b, #d97706); color: #000; }
        .game-card.wordsearch .play-btn { background: linear-gradient(135deg, #10b981, #059669); color: #fff; }
        .game-card.matching .play-btn { background: linear-gradient(135deg, #3b82f6, #2563eb); color: #fff; }
        
        /* Subject Selection */
        .subject-select { margin: 20px 0; text-align: center; }
        .subject-select h3 { margin-bottom: 15px; color: #94a3b8; }
        .subject-btns { display: flex; justify-content: center; gap: 10px; flex-wrap: wrap; }
        .subject-btn { padding: 10px 20px; border: 2px solid rgba(255,255,255,0.2); border-radius: 20px; background: transparent; color: #fff; cursor: pointer; font-weight: 600; transition: all 0.3s; }
        .subject-btn:hover { background: rgba(255,255,255,0.1); }
        .subject-btn.active { background: rgba(0,217,255,0.2); border-color: #00d9ff; }
        .subject-btn.rla.active { background: rgba(245,158,11,0.2); border-color: #f59e0b; }
        .subject-btn.math.active { background: rgba(16,185,129,0.2); border-color: #10b981; }
        .subject-btn.science.active { background: rgba(59,130,246,0.2); border-color: #3b82f6; }
        .subject-btn.social.active { background: rgba(239,68,68,0.2); border-color: #ef4444; }
        
        /* Game Header */
        .game-header { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; background: rgba(255,255,255,0.05); border-radius: 15px; margin-bottom: 20px; flex-wrap: wrap; gap: 15px; }
        .game-title { display: flex; align-items: center; gap: 12px; }
        .game-title h2 { font-size: 1.3rem; }
        .game-badge { padding: 5px 15px; border-radius: 15px; font-size: 0.85rem; font-weight: 600; }
        .game-badge.crossword { background: rgba(245,158,11,0.2); color: #f59e0b; }
        .game-badge.wordsearch { background: rgba(16,185,129,0.2); color: #10b981; }
        .game-badge.matching { background: rgba(59,130,246,0.2); color: #3b82f6; }
        .game-stats { display: flex; gap: 20px; }
        .stat { text-align: center; }
        .stat-value { font-size: 1.5rem; font-weight: 700; color: #00d9ff; }
        .stat-label { font-size: 0.75rem; color: #64748b; text-transform: uppercase; }
        
        /* Back Button */
        .back-btn { padding: 10px 25px; border: none; border-radius: 10px; background: rgba(255,255,255,0.1); color: #fff; cursor: pointer; font-weight: 600; transition: all 0.3s; margin-bottom: 20px; }
        .back-btn:hover { background: rgba(255,255,255,0.2); }
        
        /* Crossword Styles */
        .crossword-container { display: flex; gap: 30px; flex-wrap: wrap; justify-content: center; }
        .crossword-grid { display: inline-block; background: rgba(0,0,0,0.3); padding: 10px; border-radius: 10px; }
        .crossword-row { display: flex; }
        .crossword-cell { width: 38px; height: 38px; border: 1px solid #334155; display: flex; align-items: center; justify-content: center; position: relative; }
        .crossword-cell.blocked { background: #1e293b; }
        .crossword-cell.active { background: rgba(0,217,255,0.3); }
        .crossword-cell.correct { background: rgba(16,185,129,0.3); }
        .crossword-cell input { width: 100%; height: 100%; border: none; background: rgba(255,255,255,0.1); color: #fff; text-align: center; font-size: 1.1rem; font-weight: 700; text-transform: uppercase; }
        .crossword-cell input:focus { outline: none; background: rgba(0,217,255,0.2); }
        .crossword-cell .cell-number { position: absolute; top: 2px; left: 3px; font-size: 0.6rem; color: #94a3b8; }
        
        .clues-panel { flex: 1; min-width: 280px; max-width: 400px; }
        .clues-section { background: rgba(255,255,255,0.05); border-radius: 15px; padding: 20px; margin-bottom: 15px; }
        .clues-section h4 { color: #00d9ff; margin-bottom: 12px; font-size: 1rem; }
        .clue-item { padding: 8px 0; border-bottom: 1px solid rgba(255,255,255,0.05); font-size: 0.9rem; cursor: pointer; transition: all 0.2s; }
        .clue-item:hover { color: #00d9ff; }
        .clue-item.solved { color: #10b981; text-decoration: line-through; opacity: 0.7; }
        .clue-item span { color: #f59e0b; font-weight: 700; margin-right: 8px; }
        
        /* Word Search Styles */
        .wordsearch-container { display: flex; gap: 30px; flex-wrap: wrap; justify-content: center; }
        .wordsearch-grid { display: inline-block; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 15px; }
        .ws-row { display: flex; }
        .ws-cell { width: 36px; height: 36px; display: flex; align-items: center; justify-content: center; font-size: 1.1rem; font-weight: 700; cursor: pointer; border-radius: 5px; transition: all 0.2s; user-select: none; }
        .ws-cell:hover { background: rgba(255,255,255,0.1); }
        .ws-cell.selected { background: rgba(0,217,255,0.4); }
        .ws-cell.found { background: rgba(16,185,129,0.4); color: #10b981; }
        .ws-cell.highlight { background: rgba(245,158,11,0.4); }
        
        .wordlist-panel { flex: 1; min-width: 250px; max-width: 350px; }
        .wordlist { background: rgba(255,255,255,0.05); border-radius: 15px; padding: 20px; }
        .wordlist h4 { color: #10b981; margin-bottom: 15px; }
        .word-item { display: inline-block; padding: 8px 15px; margin: 5px; background: rgba(255,255,255,0.1); border-radius: 20px; font-size: 0.9rem; transition: all 0.3s; }
        .word-item.found { background: rgba(16,185,129,0.3); color: #10b981; text-decoration: line-through; }
        .word-definition { margin-top: 20px; padding: 15px; background: rgba(0,217,255,0.1); border-radius: 10px; border-left: 3px solid #00d9ff; }
        .word-definition h5 { color: #00d9ff; margin-bottom: 5px; }
        .word-definition p { color: #cbd5e1; font-size: 0.9rem; }
        
        /* Matching Game Styles */
        .matching-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; max-width: 700px; margin: 0 auto; }
        .match-card { aspect-ratio: 1; background: rgba(255,255,255,0.05); border-radius: 15px; display: flex; align-items: center; justify-content: center; cursor: pointer; transition: all 0.3s; border: 2px solid transparent; padding: 15px; text-align: center; font-size: 0.9rem; line-height: 1.4; }
        .match-card:hover { background: rgba(255,255,255,0.1); }
        .match-card.flipped { background: linear-gradient(135deg, #3b82f6, #2563eb); border-color: #60a5fa; }
        .match-card.matched { background: linear-gradient(135deg, #10b981, #059669); border-color: #34d399; pointer-events: none; }
        .match-card.wrong { animation: shake 0.5s; border-color: #ef4444; }
        .match-card .card-content { display: none; }
        .match-card.flipped .card-content, .match-card.matched .card-content { display: block; }
        .match-card .card-back { font-size: 2rem; }
        .match-card.flipped .card-back, .match-card.matched .card-back { display: none; }
        
        @keyframes shake { 0%,100%{transform:translateX(0)} 25%{transform:translateX(-5px)} 75%{transform:translateX(5px)} }
        
        /* Timer */
        .timer { font-size: 1.8rem; font-weight: 700; color: #00d9ff; font-family: monospace; }
        
        /* Results */
        .results-overlay { display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.9); z-index: 100; align-items: center; justify-content: center; }
        .results-overlay.show { display: flex; }
        .results-box { background: linear-gradient(145deg, #1e293b, #0f172a); border-radius: 25px; padding: 40px; text-align: center; max-width: 400px; width: 90%; }
        .results-icon { font-size: 5rem; margin-bottom: 20px; }
        .results-title { font-size: 2rem; margin-bottom: 10px; background: linear-gradient(135deg, #00d9ff, #00ff88); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        .results-stats { display: flex; justify-content: center; gap: 30px; margin: 25px 0; }
        .results-stat { text-align: center; }
        .results-stat-value { font-size: 2rem; font-weight: 800; color: #00d9ff; }
        .results-stat-label { color: #64748b; font-size: 0.85rem; }
        .results-btns { display: flex; gap: 15px; justify-content: center; flex-wrap: wrap; }
        .results-btn { padding: 12px 30px; border: none; border-radius: 10px; font-weight: 700; cursor: pointer; transition: all 0.3s; }
        .results-btn.primary { background: linear-gradient(135deg, #00d9ff, #00ff88); color: #000; }
        .results-btn.secondary { background: rgba(255,255,255,0.1); color: #fff; }
        
        /* Action Buttons */
        .action-btns { display: flex; justify-content: center; gap: 15px; margin-top: 20px; flex-wrap: wrap; }
        .action-btn { padding: 12px 25px; border: none; border-radius: 10px; font-weight: 600; cursor: pointer; transition: all 0.3s; }
        .action-btn.check { background: linear-gradient(135deg, #10b981, #059669); color: #fff; }
        .action-btn.hint { background: linear-gradient(135deg, #f59e0b, #d97706); color: #000; }
        .action-btn.new { background: linear-gradient(135deg, #6c5ce7, #a29bfe); color: #fff; }
        .action-btn:hover { transform: translateY(-2px); }
        
        footer { text-align: center; padding: 30px 20px; margin-top: 30px; border-top: 1px solid rgba(255,255,255,0.1); }
        footer p { color: #64748b; font-size: 0.9rem; }
        footer .author { color: #00d9ff; font-weight: 600; }
        
        @media (max-width: 768px) {
            header h1 { font-size: 1.8rem; }
            .crossword-cell, .ws-cell { width: 32px; height: 32px; font-size: 0.9rem; }
            .matching-grid { grid-template-columns: repeat(3, 1fr); gap: 10px; }
            .match-card { font-size: 0.8rem; padding: 10px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üéØ GED Vocabulary Games</h1>
            <p>Fun learning tools for memory retention and engagement</p>
        </header>

        <!-- Main Menu -->
        <div class="screen active" id="menuScreen">
            <div class="subject-select">
                <h3>üìö Select Subject</h3>
                <div class="subject-btns">
                    <button class="subject-btn active" onclick="selectSubject('all')">All Subjects</button>
                    <button class="subject-btn rla" onclick="selectSubject('rla')">üìñ RLA</button>
                    <button class="subject-btn math" onclick="selectSubject('math')">üî¢ Math</button>
                    <button class="subject-btn science" onclick="selectSubject('science')">üî¨ Science</button>
                    <button class="subject-btn social" onclick="selectSubject('social')">üåç Social Studies</button>
                </div>
            </div>

            <div class="game-menu">
                <div class="game-card crossword" onclick="startGame('crossword')">
                    <div class="game-icon">‚úèÔ∏è</div>
                    <h3>Crossword Puzzle</h3>
                    <p>Fill in the grid using vocabulary clues. Great for definitions!</p>
                    <span class="play-btn">Play Now ‚Üí</span>
                </div>
                <div class="game-card wordsearch" onclick="startGame('wordsearch')">
                    <div class="game-icon">üîç</div>
                    <h3>Word Search</h3>
                    <p>Find hidden vocabulary words in the letter grid.</p>
                    <span class="play-btn">Play Now ‚Üí</span>
                </div>
                <div class="game-card matching" onclick="startGame('matching')">
                    <div class="game-icon">üÉè</div>
                    <h3>Matching Game</h3>
                    <p>Match terms with their definitions. Test your memory!</p>
                    <span class="play-btn">Play Now ‚Üí</span>
                </div>
            </div>

            <footer>
                <p class="author">‚úçÔ∏è SecretGuides Publishing Team</p>
                <p>¬© 2025 All Rights Reserved</p>
            </footer>
        </div>

        <!-- Crossword Screen -->
        <div class="screen" id="crosswordScreen">
            <button class="back-btn" onclick="backToMenu()">‚Üê Back to Games</button>
            <div class="game-header">
                <div class="game-title">
                    <span class="game-badge crossword">‚úèÔ∏è Crossword</span>
                    <h2 id="crosswordTitle">GED Vocabulary</h2>
                </div>
                <div class="game-stats">
                    <div class="stat">
                        <div class="stat-value" id="cwSolved">0</div>
                        <div class="stat-label">Solved</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="cwTotal">0</div>
                        <div class="stat-label">Total</div>
                    </div>
                </div>
            </div>
            <div class="crossword-container">
                <div class="crossword-grid" id="crosswordGrid"></div>
                <div class="clues-panel">
                    <div class="clues-section">
                        <h4>üìç ACROSS</h4>
                        <div id="acrossClues"></div>
                    </div>
                    <div class="clues-section">
                        <h4>üìç DOWN</h4>
                        <div id="downClues"></div>
                    </div>
                </div>
            </div>
            <div class="action-btns">
                <button class="action-btn check" onclick="checkCrossword()">‚úì Check Answers</button>
                <button class="action-btn hint" onclick="crosswordHint()">üí° Hint</button>
                <button class="action-btn new" onclick="newCrossword()">üîÑ New Puzzle</button>
            </div>
        </div>

        <!-- Word Search Screen -->
        <div class="screen" id="wordsearchScreen">
            <button class="back-btn" onclick="backToMenu()">‚Üê Back to Games</button>
            <div class="game-header">
                <div class="game-title">
                    <span class="game-badge wordsearch">üîç Word Search</span>
                    <h2 id="wsTitle">Find the Words!</h2>
                </div>
                <div class="game-stats">
                    <div class="stat">
                        <div class="stat-value" id="wsFound">0</div>
                        <div class="stat-label">Found</div>
                    </div>
                    <div class="stat">
                        <div class="timer" id="wsTimer">0:00</div>
                        <div class="stat-label">Time</div>
                    </div>
                </div>
            </div>
            <div class="wordsearch-container">
                <div class="wordsearch-grid" id="wsGrid"></div>
                <div class="wordlist-panel">
                    <div class="wordlist">
                        <h4>üìù Find These Words</h4>
                        <div id="wordList"></div>
                    </div>
                    <div class="word-definition" id="wordDef" style="display:none;">
                        <h5 id="defWord">Word</h5>
                        <p id="defText">Definition</p>
                    </div>
                </div>
            </div>
            <div class="action-btns">
                <button class="action-btn hint" onclick="wsHint()">üí° Hint</button>
                <button class="action-btn new" onclick="newWordSearch()">üîÑ New Puzzle</button>
            </div>
        </div>

        <!-- Matching Game Screen -->
        <div class="screen" id="matchingScreen">
            <button class="back-btn" onclick="backToMenu()">‚Üê Back to Games</button>
            <div class="game-header">
                <div class="game-title">
                    <span class="game-badge matching">üÉè Matching</span>
                    <h2>Match Terms & Definitions</h2>
                </div>
                <div class="game-stats">
                    <div class="stat">
                        <div class="stat-value" id="matchPairs">0</div>
                        <div class="stat-label">Pairs</div>
                    </div>
                    <div class="stat">
                        <div class="stat-value" id="matchMoves">0</div>
                        <div class="stat-label">Moves</div>
                    </div>
                    <div class="stat">
                        <div class="timer" id="matchTimer">0:00</div>
                        <div class="stat-label">Time</div>
                    </div>
                </div>
            </div>
            <div class="matching-grid" id="matchingGrid"></div>
            <div class="action-btns">
                <button class="action-btn new" onclick="newMatchingGame()">üîÑ New Game</button>
            </div>
        </div>
    </div>

    <!-- Results Overlay -->
    <div class="results-overlay" id="resultsOverlay">
        <div class="results-box">
            <div class="results-icon" id="resultsIcon">üéâ</div>
            <div class="results-title" id="resultsTitle">Congratulations!</div>
            <p id="resultsMessage" style="color:#94a3b8;margin-bottom:20px;">You completed the puzzle!</p>
            <div class="results-stats">
                <div class="results-stat">
                    <div class="results-stat-value" id="resultsTime">0:00</div>
                    <div class="results-stat-label">Time</div>
                </div>
                <div class="results-stat">
                    <div class="results-stat-value" id="resultsScore">0</div>
                    <div class="results-stat-label" id="resultsScoreLabel">Score</div>
                </div>
            </div>
            <div class="results-btns">
                <button class="results-btn secondary" onclick="closeResults()">Close</button>
                <button class="results-btn primary" onclick="playAgain()">Play Again</button>
            </div>
        </div>
    </div>

<script>
// Vocabulary Data
const vocabData = {
    rla: [
        {word:"THESIS",def:"Main argument or claim of an essay"},
        {word:"METAPHOR",def:"Direct comparison without like or as"},
        {word:"SIMILE",def:"Comparison using like or as"},
        {word:"IRONY",def:"Opposite of what is expected"},
        {word:"TONE",def:"Author's attitude toward subject"},
        {word:"THEME",def:"Central message of a literary work"},
        {word:"PLOT",def:"Sequence of events in a story"},
        {word:"CONFLICT",def:"Struggle between opposing forces"},
        {word:"INFERENCE",def:"Conclusion based on evidence"},
        {word:"CONTEXT",def:"Words surrounding an unknown word"},
        {word:"SYNONYM",def:"Word with similar meaning"},
        {word:"ANTONYM",def:"Word with opposite meaning"},
        {word:"PREFIX",def:"Word part added to beginning"},
        {word:"SUFFIX",def:"Word part added to end"},
        {word:"NOUN",def:"Person, place, thing, or idea"},
        {word:"VERB",def:"Action or state of being word"},
        {word:"ADJECTIVE",def:"Word that describes a noun"},
        {word:"ADVERB",def:"Word that modifies a verb"},
        {word:"PRONOUN",def:"Word replacing a noun"},
        {word:"CLAUSE",def:"Group with subject and verb"},
        {word:"FRAGMENT",def:"Incomplete sentence"},
        {word:"COMMA",def:"Punctuation separating items"},
        {word:"SEMICOLON",def:"Joins related independent clauses"},
        {word:"APOSTROPHE",def:"Shows possession or contraction"},
        {word:"HYPERBOLE",def:"Extreme exaggeration"},
        {word:"ALLUSION",def:"Reference to well-known work"},
        {word:"IMAGERY",def:"Descriptive sensory language"},
        {word:"SYMBOL",def:"Object representing an idea"},
        {word:"FORESHADOW",def:"Hints at future events"},
        {word:"FLASHBACK",def:"Scene from the past"}
    ],
    math: [
        {word:"EQUATION",def:"Mathematical statement of equality"},
        {word:"VARIABLE",def:"Letter representing unknown value"},
        {word:"EXPONENT",def:"Power showing repeated multiplication"},
        {word:"INTEGER",def:"Whole number positive or negative"},
        {word:"FRACTION",def:"Part of a whole number"},
        {word:"DECIMAL",def:"Number with tenths place"},
        {word:"PERCENT",def:"Parts per hundred"},
        {word:"RATIO",def:"Comparison of two quantities"},
        {word:"SLOPE",def:"Rate of change rise over run"},
        {word:"INTERCEPT",def:"Where line crosses axis"},
        {word:"PARALLEL",def:"Lines that never intersect"},
        {word:"PERIMETER",def:"Distance around a shape"},
        {word:"AREA",def:"Space inside a flat shape"},
        {word:"VOLUME",def:"Space inside a 3D shape"},
        {word:"RADIUS",def:"Distance from center to edge"},
        {word:"DIAMETER",def:"Distance across through center"},
        {word:"HYPOTENUSE",def:"Longest side of right triangle"},
        {word:"MEDIAN",def:"Middle value in data set"},
        {word:"MEAN",def:"Average of all values"},
        {word:"MODE",def:"Most frequent value"},
        {word:"RANGE",def:"Difference of highest and lowest"},
        {word:"PROBABILITY",def:"Likelihood of an event"},
        {word:"FACTOR",def:"Number that divides evenly"},
        {word:"MULTIPLE",def:"Product of a number"},
        {word:"PRIME",def:"Divisible only by one and itself"},
        {word:"COMPOSITE",def:"Has more than two factors"},
        {word:"QUADRATIC",def:"Equation with squared variable"},
        {word:"POLYNOMIAL",def:"Expression with multiple terms"},
        {word:"COEFFICIENT",def:"Number multiplying a variable"},
        {word:"FUNCTION",def:"Each input has one output"}
    ],
    science: [
        {word:"CELL",def:"Basic unit of life"},
        {word:"NUCLEUS",def:"Control center with DNA"},
        {word:"MITOSIS",def:"Cell division for growth"},
        {word:"MEIOSIS",def:"Cell division for sex cells"},
        {word:"GENE",def:"Segment of DNA for traits"},
        {word:"ALLELE",def:"Different form of a gene"},
        {word:"DOMINANT",def:"Trait that masks another"},
        {word:"RECESSIVE",def:"Trait masked by dominant"},
        {word:"PROTEIN",def:"Molecule built from amino acids"},
        {word:"ENZYME",def:"Protein speeding reactions"},
        {word:"PHOTOSYNTHESIS",def:"Plants making food from light"},
        {word:"RESPIRATION",def:"Cells releasing energy"},
        {word:"ECOSYSTEM",def:"Community and its environment"},
        {word:"PREDATOR",def:"Animal that hunts others"},
        {word:"PREY",def:"Animal hunted for food"},
        {word:"ATOM",def:"Smallest unit of element"},
        {word:"ELECTRON",def:"Negative particle orbiting nucleus"},
        {word:"PROTON",def:"Positive particle in nucleus"},
        {word:"NEUTRON",def:"Neutral particle in nucleus"},
        {word:"COMPOUND",def:"Two or more elements bonded"},
        {word:"MIXTURE",def:"Substances physically combined"},
        {word:"ELEMENT",def:"Pure substance one atom type"},
        {word:"MOLECULE",def:"Two or more atoms bonded"},
        {word:"VELOCITY",def:"Speed with direction"},
        {word:"FRICTION",def:"Force opposing motion"},
        {word:"GRAVITY",def:"Force of attraction between masses"},
        {word:"ENERGY",def:"Ability to do work"},
        {word:"KINETIC",def:"Energy of motion"},
        {word:"POTENTIAL",def:"Stored energy"},
        {word:"CATALYST",def:"Speeds reaction unchanged"}
    ],
    social: [
        {word:"DEMOCRACY",def:"Government by the people"},
        {word:"REPUBLIC",def:"Elected representatives govern"},
        {word:"AMENDMENT",def:"Change to the Constitution"},
        {word:"VETO",def:"President rejects a bill"},
        {word:"CONGRESS",def:"Legislative branch of government"},
        {word:"SENATE",def:"Upper house 100 members"},
        {word:"TARIFF",def:"Tax on imported goods"},
        {word:"EMBARGO",def:"Ban on trade with country"},
        {word:"INFLATION",def:"Rising prices over time"},
        {word:"RECESSION",def:"Economic decline period"},
        {word:"CAPITALISM",def:"Private ownership free market"},
        {word:"SOCIALISM",def:"Government owns production"},
        {word:"SUPPLY",def:"Amount available for sale"},
        {word:"DEMAND",def:"Consumer desire to buy"},
        {word:"MONOPOLY",def:"Single seller controls market"},
        {word:"LATITUDE",def:"Distance north or south"},
        {word:"LONGITUDE",def:"Distance east or west"},
        {word:"EQUATOR",def:"Zero degrees latitude line"},
        {word:"HEMISPHERE",def:"Half of the Earth"},
        {word:"CONTINENT",def:"Large continuous landmass"},
        {word:"PENINSULA",def:"Land surrounded three sides water"},
        {word:"ISTHMUS",def:"Narrow land connecting larger areas"},
        {word:"PLATEAU",def:"Flat elevated landform"},
        {word:"DELTA",def:"Sediment at river mouth"},
        {word:"COLONY",def:"Territory controlled by another"},
        {word:"REVOLUTION",def:"Overthrow of government"},
        {word:"IMMIGRANT",def:"Person moving to new country"},
        {word:"SUFFRAGE",def:"Right to vote"},
        {word:"RATIFY",def:"Formally approve"},
        {word:"FEDERALISM",def:"Power shared federal and state"}
    ]
};

let currentSubject = 'all';
let currentGame = '';
let gameTimer = null;
let gameSeconds = 0;

// Get vocabulary based on subject
function getVocab() {
    if (currentSubject === 'all') {
        return [...vocabData.rla, ...vocabData.math, ...vocabData.science, ...vocabData.social];
    }
    return vocabData[currentSubject];
}

function selectSubject(subject) {
    currentSubject = subject;
    document.querySelectorAll('.subject-btn').forEach(btn => btn.classList.remove('active'));
    event.target.classList.add('active');
}

function showScreen(id) {
    document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
}

function backToMenu() {
    if (gameTimer) clearInterval(gameTimer);
    showScreen('menuScreen');
}

function startGame(game) {
    currentGame = game;
    if (game === 'crossword') startCrossword();
    else if (game === 'wordsearch') startWordSearch();
    else if (game === 'matching') startMatching();
}

// ============ CROSSWORD ============
let crosswordData = { grid: [], words: [], clues: { across: [], down: [] } };

function startCrossword() {
    showScreen('crosswordScreen');
    newCrossword();
}

function newCrossword() {
    const vocab = getVocab();
    const shuffled = vocab.sort(() => Math.random() - 0.5).slice(0, 8);
    
    // Simple crossword generation
    const gridSize = 12;
    const grid = Array(gridSize).fill(null).map(() => Array(gridSize).fill(null));
    const placedWords = [];
    const clues = { across: [], down: [] };
    
    // Place first word horizontally in middle
    const firstWord = shuffled[0];
    const startCol = Math.floor((gridSize - firstWord.word.length) / 2);
    const startRow = Math.floor(gridSize / 2);
    
    for (let i = 0; i < firstWord.word.length; i++) {
        grid[startRow][startCol + i] = { letter: firstWord.word[i], number: i === 0 ? 1 : null };
    }
    placedWords.push({ word: firstWord.word, def: firstWord.def, row: startRow, col: startCol, dir: 'across', num: 1 });
    clues.across.push({ num: 1, clue: firstWord.def, word: firstWord.word });
    
    let wordNum = 2;
    
    // Try to place more words
    for (let w = 1; w < shuffled.length && placedWords.length < 6; w++) {
        const wordObj = shuffled[w];
        const word = wordObj.word;
        let placed = false;
        
        // Try to intersect with existing words
        for (const pw of placedWords) {
            if (placed) break;
            
            for (let i = 0; i < word.length && !placed; i++) {
                for (let j = 0; j < pw.word.length && !placed; j++) {
                    if (word[i] === pw.word[j]) {
                        let newRow, newCol, dir;
                        
                        if (pw.dir === 'across') {
                            // Place vertically
                            newRow = pw.row - i;
                            newCol = pw.col + j;
                            dir = 'down';
                        } else {
                            // Place horizontally
                            newRow = pw.row + j;
                            newCol = pw.col - i;
                            dir = 'across';
                        }
                        
                        // Check if placement is valid
                        if (canPlace(grid, word, newRow, newCol, dir, gridSize)) {
                            for (let k = 0; k < word.length; k++) {
                                const r = dir === 'down' ? newRow + k : newRow;
                                const c = dir === 'across' ? newCol + k : newCol;
                                if (!grid[r][c]) {
                                    grid[r][c] = { letter: word[k], number: k === 0 ? wordNum : null };
                                } else if (k === 0 && !grid[r][c].number) {
                                    grid[r][c].number = wordNum;
                                }
                            }
                            placedWords.push({ word, def: wordObj.def, row: newRow, col: newCol, dir, num: wordNum });
                            if (dir === 'across') {
                                clues.across.push({ num: wordNum, clue: wordObj.def, word });
                            } else {
                                clues.down.push({ num: wordNum, clue: wordObj.def, word });
                            }
                            wordNum++;
                            placed = true;
                        }
                    }
                }
            }
        }
    }
    
    crosswordData = { grid, words: placedWords, clues };
    renderCrossword();
}

function canPlace(grid, word, row, col, dir, size) {
    if (row < 0 || col < 0) return false;
    
    for (let i = 0; i < word.length; i++) {
        const r = dir === 'down' ? row + i : row;
        const c = dir === 'across' ? col + i : col;
        
        if (r >= size || c >= size || r < 0 || c < 0) return false;
        
        if (grid[r][c] && grid[r][c].letter !== word[i]) return false;
    }
    return true;
}

function renderCrossword() {
    const gridEl = document.getElementById('crosswordGrid');
    const { grid, clues } = crosswordData;
    
    // Find bounds
    let minR = grid.length, maxR = 0, minC = grid[0].length, maxC = 0;
    for (let r = 0; r < grid.length; r++) {
        for (let c = 0; c < grid[0].length; c++) {
            if (grid[r][c]) {
                minR = Math.min(minR, r);
                maxR = Math.max(maxR, r);
                minC = Math.min(minC, c);
                maxC = Math.max(maxC, c);
            }
        }
    }
    
    let html = '';
    for (let r = minR; r <= maxR; r++) {
        html += '<div class="crossword-row">';
        for (let c = minC; c <= maxC; c++) {
            const cell = grid[r][c];
            if (cell) {
                html += `<div class="crossword-cell">
                    ${cell.number ? `<span class="cell-number">${cell.number}</span>` : ''}
                    <input type="text" maxlength="1" data-row="${r}" data-col="${c}" data-letter="${cell.letter}">
                </div>`;
            } else {
                html += '<div class="crossword-cell blocked"></div>';
            }
        }
        html += '</div>';
    }
    gridEl.innerHTML = html;
    
    // Render clues
    document.getElementById('acrossClues').innerHTML = clues.across
        .sort((a,b) => a.num - b.num)
        .map(c => `<div class="clue-item" data-word="${c.word}"><span>${c.num}.</span>${c.clue}</div>`).join('');
    document.getElementById('downClues').innerHTML = clues.down
        .sort((a,b) => a.num - b.num)
        .map(c => `<div class="clue-item" data-word="${c.word}"><span>${c.num}.</span>${c.clue}</div>`).join('');
    
    document.getElementById('cwTotal').textContent = crosswordData.words.length;
    document.getElementById('cwSolved').textContent = '0';
    
    // Add input listeners
    gridEl.querySelectorAll('input').forEach(input => {
        input.addEventListener('input', (e) => {
            e.target.value = e.target.value.toUpperCase();
            if (e.target.value) {
                const next = e.target.parentElement.nextElementSibling?.querySelector('input');
                if (next) next.focus();
            }
        });
    });
}

function checkCrossword() {
    let solved = 0;
    const inputs = document.querySelectorAll('#crosswordGrid input');
    
    inputs.forEach(input => {
        const correct = input.dataset.letter;
        if (input.value.toUpperCase() === correct) {
            input.parentElement.classList.add('correct');
        } else {
            input.parentElement.classList.remove('correct');
        }
    });
    
    // Check words
    crosswordData.words.forEach(w => {
        let wordCorrect = true;
        for (let i = 0; i < w.word.length; i++) {
            const r = w.dir === 'down' ? w.row + i : w.row;
            const c = w.dir === 'across' ? w.col + i : w.col;
            const input = document.querySelector(`input[data-row="${r}"][data-col="${c}"]`);
            if (!input || input.value.toUpperCase() !== w.word[i]) {
                wordCorrect = false;
                break;
            }
        }
        if (wordCorrect) {
            solved++;
            document.querySelector(`.clue-item[data-word="${w.word}"]`)?.classList.add('solved');
        }
    });
    
    document.getElementById('cwSolved').textContent = solved;
    
    if (solved === crosswordData.words.length) {
        showResults('üéâ', 'Puzzle Complete!', 'You solved the crossword!', '--', solved + '/' + crosswordData.words.length, 'Words');
    }
}

function crosswordHint() {
    const inputs = document.querySelectorAll('#crosswordGrid input');
    const empty = Array.from(inputs).filter(i => !i.value);
    if (empty.length > 0) {
        const hint = empty[Math.floor(Math.random() * empty.length)];
        hint.value = hint.dataset.letter;
        hint.parentElement.classList.add('correct');
    }
}

// ============ WORD SEARCH ============
let wsData = { grid: [], words: [], found: [] };
let wsSelection = [];
let wsStartCell = null;

function startWordSearch() {
    showScreen('wordsearchScreen');
    newWordSearch();
}

function newWordSearch() {
    const vocab = getVocab();
    const words = vocab.sort(() => Math.random() - 0.5).slice(0, 10);
    
    const size = 12;
    const grid = Array(size).fill(null).map(() => Array(size).fill(''));
    const placedWords = [];
    
    // Place words
    words.forEach(w => {
        const word = w.word;
        let placed = false;
        let attempts = 0;
        
        while (!placed && attempts < 100) {
            attempts++;
            const dir = Math.floor(Math.random() * 3); // 0=horiz, 1=vert, 2=diag
            const row = Math.floor(Math.random() * size);
            const col = Math.floor(Math.random() * size);
            
            if (canPlaceWS(grid, word, row, col, dir, size)) {
                const cells = [];
                for (let i = 0; i < word.length; i++) {
                    const r = dir === 1 || dir === 2 ? row + i : row;
                    const c = dir === 0 || dir === 2 ? col + i : col;
                    grid[r][c] = word[i];
                    cells.push({ r, c });
                }
                placedWords.push({ word, def: w.def, cells });
                placed = true;
            }
        }
    });
    
    // Fill empty cells
    const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';
    for (let r = 0; r < size; r++) {
        for (let c = 0; c < size; c++) {
            if (!grid[r][c]) {
                grid[r][c] = letters[Math.floor(Math.random() * 26)];
            }
        }
    }
    
    wsData = { grid, words: placedWords, found: [] };
    gameSeconds = 0;
    if (gameTimer) clearInterval(gameTimer);
    gameTimer = setInterval(updateWSTimer, 1000);
    
    renderWordSearch();
}

function canPlaceWS(grid, word, row, col, dir, size) {
    for (let i = 0; i < word.length; i++) {
        const r = dir === 1 || dir === 2 ? row + i : row;
        const c = dir === 0 || dir === 2 ? col + i : col;
        if (r >= size || c >= size) return false;
        if (grid[r][c] && grid[r][c] !== word[i]) return false;
    }
    return true;
}

function renderWordSearch() {
    const gridEl = document.getElementById('wsGrid');
    let html = '';
    
    for (let r = 0; r < wsData.grid.length; r++) {
        html += '<div class="ws-row">';
        for (let c = 0; c < wsData.grid[r].length; c++) {
            html += `<div class="ws-cell" data-r="${r}" data-c="${c}">${wsData.grid[r][c]}</div>`;
        }
        html += '</div>';
    }
    gridEl.innerHTML = html;
    
    // Word list
    document.getElementById('wordList').innerHTML = wsData.words
        .map(w => `<span class="word-item" data-word="${w.word}">${w.word}</span>`).join('');
    
    document.getElementById('wsFound').textContent = '0';
    document.getElementById('wordDef').style.display = 'none';
    
    // Add listeners
    gridEl.querySelectorAll('.ws-cell').forEach(cell => {
        cell.addEventListener('mousedown', wsMouseDown);
        cell.addEventListener('mouseenter', wsMouseEnter);
        cell.addEventListener('mouseup', wsMouseUp);
        cell.addEventListener('touchstart', wsTouchStart);
        cell.addEventListener('touchmove', wsTouchMove);
        cell.addEventListener('touchend', wsTouchEnd);
    });
}

function wsMouseDown(e) {
    wsStartCell = { r: parseInt(e.target.dataset.r), c: parseInt(e.target.dataset.c) };
    wsSelection = [wsStartCell];
    e.target.classList.add('selected');
}

function wsMouseEnter(e) {
    if (!wsStartCell) return;
    const r = parseInt(e.target.dataset.r);
    const c = parseInt(e.target.dataset.c);
    
    // Clear previous selection
    document.querySelectorAll('.ws-cell.selected').forEach(c => c.classList.remove('selected'));
    
    // Calculate selection
    wsSelection = getLineCells(wsStartCell.r, wsStartCell.c, r, c);
    wsSelection.forEach(cell => {
        document.querySelector(`.ws-cell[data-r="${cell.r}"][data-c="${cell.c}"]`)?.classList.add('selected');
    });
}

function wsMouseUp(e) {
    checkWSSelection();
    wsStartCell = null;
}

function wsTouchStart(e) {
    e.preventDefault();
    const touch = e.touches[0];
    const cell = document.elementFromPoint(touch.clientX, touch.clientY);
    if (cell?.classList.contains('ws-cell')) {
        wsStartCell = { r: parseInt(cell.dataset.r), c: parseInt(cell.dataset.c) };
        wsSelection = [wsStartCell];
        cell.classList.add('selected');
    }
}

function wsTouchMove(e) {
    e.preventDefault();
    if (!wsStartCell) return;
    const touch = e.touches[0];
    const cell = document.elementFromPoint(touch.clientX, touch.clientY);
    if (cell?.classList.contains('ws-cell')) {
        const r = parseInt(cell.dataset.r);
        const c = parseInt(cell.dataset.c);
        document.querySelectorAll('.ws-cell.selected').forEach(c => c.classList.remove('selected'));
        wsSelection = getLineCells(wsStartCell.r, wsStartCell.c, r, c);
        wsSelection.forEach(s => {
            document.querySelector(`.ws-cell[data-r="${s.r}"][data-c="${s.c}"]`)?.classList.add('selected');
        });
    }
}

function wsTouchEnd(e) {
    e.preventDefault();
    checkWSSelection();
    wsStartCell = null;
}

function getLineCells(r1, c1, r2, c2) {
    const cells = [];
    const dr = Math.sign(r2 - r1);
    const dc = Math.sign(c2 - c1);
    
    // Only allow straight lines
    if (dr !== 0 && dc !== 0 && Math.abs(r2-r1) !== Math.abs(c2-c1)) return [{ r: r1, c: c1 }];
    
    let r = r1, c = c1;
    while (true) {
        cells.push({ r, c });
        if (r === r2 && c === c2) break;
        r += dr;
        c += dc;
        if (cells.length > 20) break;
    }
    return cells;
}

function checkWSSelection() {
    const selectedWord = wsSelection.map(s => wsData.grid[s.r][s.c]).join('');
    const reversedWord = selectedWord.split('').reverse().join('');
    
    const found = wsData.words.find(w => 
        (w.word === selectedWord || w.word === reversedWord) && !wsData.found.includes(w.word)
    );
    
    if (found) {
        wsData.found.push(found.word);
        wsSelection.forEach(s => {
            document.querySelector(`.ws-cell[data-r="${s.r}"][data-c="${s.c}"]`)?.classList.add('found');
        });
        document.querySelector(`.word-item[data-word="${found.word}"]`)?.classList.add('found');
        document.getElementById('wsFound').textContent = wsData.found.length;
        
        // Show definition
        document.getElementById('wordDef').style.display = 'block';
        document.getElementById('defWord').textContent = found.word;
        document.getElementById('defText').textContent = found.def;
        
        if (wsData.found.length === wsData.words.length) {
            clearInterval(gameTimer);
            setTimeout(() => {
                showResults('üéâ', 'All Words Found!', 'Excellent vocabulary skills!', formatTime(gameSeconds), wsData.words.length, 'Words');
            }, 500);
        }
    }
    
    document.querySelectorAll('.ws-cell.selected').forEach(c => c.classList.remove('selected'));
    wsSelection = [];
}

function updateWSTimer() {
    gameSeconds++;
    document.getElementById('wsTimer').textContent = formatTime(gameSeconds);
}

function wsHint() {
    const notFound = wsData.words.filter(w => !wsData.found.includes(w.word));
    if (notFound.length === 0) return;
    
    const hint = notFound[Math.floor(Math.random() * notFound.length)];
    hint.cells.forEach(c => {
        document.querySelector(`.ws-cell[data-r="${c.r}"][data-c="${c.c}"]`)?.classList.add('highlight');
    });
    
    setTimeout(() => {
        document.querySelectorAll('.ws-cell.highlight').forEach(c => c.classList.remove('highlight'));
    }, 1500);
}

// ============ MATCHING GAME ============
let matchData = { cards: [], flipped: [], matched: 0, moves: 0 };

function startMatching() {
    showScreen('matchingScreen');
    newMatchingGame();
}

function newMatchingGame() {
    const vocab = getVocab();
    const pairs = vocab.sort(() => Math.random() - 0.5).slice(0, 6);
    
    const cards = [];
    pairs.forEach((p, i) => {
        cards.push({ id: i * 2, pairId: i, content: p.word, type: 'term' });
        cards.push({ id: i * 2 + 1, pairId: i, content: p.def, type: 'def' });
    });
    
    // Shuffle
    for (let i = cards.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [cards[i], cards[j]] = [cards[j], cards[i]];
    }
    
    matchData = { cards, flipped: [], matched: 0, moves: 0 };
    gameSeconds = 0;
    if (gameTimer) clearInterval(gameTimer);
    gameTimer = setInterval(updateMatchTimer, 1000);
    
    renderMatching();
}

function renderMatching() {
    const grid = document.getElementById('matchingGrid');
    grid.innerHTML = matchData.cards.map(card => `
        <div class="match-card" data-id="${card.id}" onclick="flipMatchCard(${card.id})">
            <div class="card-back">‚ùì</div>
            <div class="card-content">${card.content}</div>
        </div>
    `).join('');
    
    document.getElementById('matchPairs').textContent = '0';
    document.getElementById('matchMoves').textContent = '0';
}

function flipMatchCard(id) {
    if (matchData.flipped.length >= 2) return;
    
    const card = matchData.cards.find(c => c.id === id);
    const cardEl = document.querySelector(`.match-card[data-id="${id}"]`);
    
    if (cardEl.classList.contains('flipped') || cardEl.classList.contains('matched')) return;
    
    cardEl.classList.add('flipped');
    matchData.flipped.push(card);
    
    if (matchData.flipped.length === 2) {
        matchData.moves++;
        document.getElementById('matchMoves').textContent = matchData.moves;
        
        const [first, second] = matchData.flipped;
        
        if (first.pairId === second.pairId) {
            // Match!
            setTimeout(() => {
                document.querySelector(`.match-card[data-id="${first.id}"]`).classList.add('matched');
                document.querySelector(`.match-card[data-id="${second.id}"]`).classList.add('matched');
                matchData.matched++;
                document.getElementById('matchPairs').textContent = matchData.matched;
                matchData.flipped = [];
                
                if (matchData.matched === matchData.cards.length / 2) {
                    clearInterval(gameTimer);
                    setTimeout(() => {
                        showResults('üéâ', 'All Matched!', 'Great memory!', formatTime(gameSeconds), matchData.moves, 'Moves');
                    }, 500);
                }
            }, 500);
        } else {
            // No match
            setTimeout(() => {
                document.querySelector(`.match-card[data-id="${first.id}"]`).classList.remove('flipped');
                document.querySelector(`.match-card[data-id="${first.id}"]`).classList.add('wrong');
                document.querySelector(`.match-card[data-id="${second.id}"]`).classList.remove('flipped');
                document.querySelector(`.match-card[data-id="${second.id}"]`).classList.add('wrong');
                
                setTimeout(() => {
                    document.querySelectorAll('.match-card.wrong').forEach(c => c.classList.remove('wrong'));
                }, 500);
                
                matchData.flipped = [];
            }, 1000);
        }
    }
}

function updateMatchTimer() {
    gameSeconds++;
    document.getElementById('matchTimer').textContent = formatTime(gameSeconds);
}

// ============ UTILITIES ============
function formatTime(seconds) {
    const m = Math.floor(seconds / 60);
    const s = seconds % 60;
    return `${m}:${s.toString().padStart(2, '0')}`;
}

function showResults(icon, title, message, time, score, scoreLabel) {
    document.getElementById('resultsIcon').textContent = icon;
    document.getElementById('resultsTitle').textContent = title;
    document.getElementById('resultsMessage').textContent = message;
    document.getElementById('resultsTime').textContent = time;
    document.getElementById('resultsScore').textContent = score;
    document.getElementById('resultsScoreLabel').textContent = scoreLabel;
    document.getElementById('resultsOverlay').classList.add('show');
}

function closeResults() {
    document.getElementById('resultsOverlay').classList.remove('show');
}

function playAgain() {
    closeResults();
    if (currentGame === 'crossword') newCrossword();
    else if (currentGame === 'wordsearch') newWordSearch();
    else if (currentGame === 'matching') newMatchingGame();
}
</script>
</body>
</html>
